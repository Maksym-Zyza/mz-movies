(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{39:function(e,t,r){"use strict";var a=r(41),n=r.n(a),c=r(42),s=r(43),i=r.n(s),o=r(10),u=r.n(o);i.a.defaults.baseURL="https://api.themoviedb.org/3/",i.a.defaults.params={api_key:"523a15ded98cd05fab36993344058e43",language:"en-US"};var l=function(){var e=Object(c.a)(n.a.mark((function e(){var t,r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/day"},e.next=4,i()(t);case 4:return r=e.sent,a=r.data,e.abrupt("return",a.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function h(e,t){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(n.a.mark((function e(t,r){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"search/movie",params:{query:t,page:r}},e.next=4,i()(a);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function b(){return(b=Object(c.a)(n.a.mark((function e(t){var r,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,i()(r,t);case 4:return a=e.sent,c=a.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function v(){return(v=Object(c.a)(n.a.mark((function e(t){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},a=i()(r,t),e.abrupt("return",a);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function m(){return(m=Object(c.a)(n.a.mark((function e(t){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},a=i()(r,t),e.abrupt("return",a);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}h.propTypes={query:u.a.string.isRequired,page:u.a.number.isRequired};var f={getMoviesTrending:l,getSerchMovies:h,getMovieDetails:function(e){return b.apply(this,arguments)},getMovieCredits:function(e){return v.apply(this,arguments)},getMoviesReviews:function(e){return m.apply(this,arguments)}};t.a=f},44:function(e,t,r){"use strict";r(0);var a=r(53),n=r.n(a),c=r(1);t.a=function(e){return Object(c.jsx)("div",{className:"loaderDiv",children:Object(c.jsx)(n.a,{loading:e,color:"red"})})}},73:function(e,t,r){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm_button:"Searchbar_SearchForm_button__3eKQ3",SearchForm_button_label:"Searchbar_SearchForm_button_label__5zUwS",SearchForm_input:"Searchbar_SearchForm_input__11BIx"}},79:function(e,t,r){e.exports={Button:"Button_Button__3R1xi",btnDiv:"Button_btnDiv__1IJi6"}},82:function(e,t,r){"use strict";r.r(t);var a=r(40),n=r(15),c=r(16),s=r(18),i=r(17),o=r(0),u=r.n(o),l=r(39),h=r(73),p=r.n(h),b=r(1),v=function(e){Object(s.a)(r,e);var t=Object(i.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={search:""},e.handleChange=function(t){e.setState({search:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.search),e.setState({search:""})},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.state.search;return Object(b.jsx)("header",{className:p.a.Searchbar,children:Object(b.jsxs)("form",{onSubmit:this.handleSubmit,className:p.a.SearchForm,children:[Object(b.jsx)("button",{type:"submit",className:p.a.SearchForm_button,children:Object(b.jsx)("span",{className:p.a.SearchForm_button_label,children:"Search"})}),Object(b.jsx)("input",{className:p.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:e,onChange:this.handleChange})]})})}}]),r}(u.a.Component),m=r(44),f=r(79),j=r.n(f),d=function(e){var t=e.onClick;return Object(b.jsx)("div",{className:j.a.btnDiv,children:Object(b.jsx)("button",{className:j.a.Button,type:"button",onClick:t,children:"Load more"})})},g=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},O=r(2),_=r(7),S=function(e){Object(s.a)(r,e);var t=Object(i.a)(r);function r(){var e;Object(n.a)(this,r);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={src:"https://image.tmdb.org/t/p/w500",location:O.f},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.state.src,t=this.props,r=t.movies,a=t.location;return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("ul",{className:"movies_ul",children:r.map((function(t){var r=t.id,n=t.poster_path,c=t.title,s=t.vote_average;return Object(b.jsx)(_.b,{to:{pathname:"/movies/".concat(r),state:{from:"".concat(a.pathname)}},children:Object(b.jsxs)("li",{className:"movies_li",children:[Object(b.jsx)("img",{className:"movies_img",src:"".concat(e).concat(n),alt:c}),Object(b.jsxs)("p",{className:"movies_title",children:[" ",c]}),Object(b.jsx)("p",{className:"movies_rating",children:Object(b.jsx)("span",{className:"rating",children:s})})]})},r)}))})})}}]),r}(u.a.Component),x=Object(O.g)(S),y=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h2",{className:"page_title",children:"Nothing, please start your search"})})},w=function(e){Object(s.a)(r,e);var t=Object(i.a)(r);function r(){var e;Object(n.a)(this,r);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={movies:[],page:1,query:"",isLoading:!1,error:null},e.formSubmitQuery=function(t){e.setState({query:t,movies:[],page:1,error:null})},e.feachMovies=function(){var t=e.state,r=t.query,n=t.page;e.setState({isLoading:!0}),l.a.getSerchMovies(r,n).then((function(t){e.setState((function(e){return{movies:[].concat(Object(a.a)(e.movies),Object(a.a)(t.data.results)),page:e.page+1}}))})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e.handleChange=function(t){e.setState({query:t.target.value})},e}return Object(c.a)(r,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.feachMovies()}},{key:"render",value:function(){var e=this.state,t=e.movies,r=e.isLoading,a=e.error,n=t.length>0&&!r,c=0===t.length;return Object(b.jsxs)("div",{children:[Object(b.jsx)(v,{onSubmit:this.formSubmitQuery}),Object(b.jsx)(x,{movies:t}),r&&Object(b.jsx)(m.a,{isLoading:r}),n&&Object(b.jsx)(d,{onClick:this.feachMovies,scroll:g()}),a&&Object(b.jsx)("h1",{children:a}),c&&Object(b.jsx)(y,{})]})}}]),r}(u.a.Component);t.default=w}}]);
//# sourceMappingURL=movie-views.6edc303f.chunk.js.map