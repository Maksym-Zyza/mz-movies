(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{47:function(e,t,a){"use strict";var r=a(49),n=a.n(r),c=a(50),s=a(51),i=a.n(s),o=a(10),u=a.n(o);i.a.defaults.baseURL="https://api.themoviedb.org/3/",i.a.defaults.params={api_key:"523a15ded98cd05fab36993344058e43",language:"en-US"};var l=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/day"},e.next=4,i()(t);case 4:return a=e.sent,r=a.data,e.abrupt("return",r.results);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();function p(e,t){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(n.a.mark((function e(t,a){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"search/movie",params:{query:t,page:a}},e.next=4,i()(r);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(){return(v=Object(c.a)(n.a.mark((function e(t){var a,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t)},e.next=4,i()(a,t);case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function j(){return(j=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t,"/credits")},r=i()(a,t),e.abrupt("return",r);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function d(){return(d=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"movie/".concat(t,"/reviews")},r=i()(a,t),e.abrupt("return",r);case 6:return e.prev=6,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}p.propTypes={query:u.a.string.isRequired,page:u.a.number.isRequired};var b={getMoviesTrending:l,getSerchMovies:p,getMovieDetails:function(e){return v.apply(this,arguments)},getMovieCredits:function(e){return j.apply(this,arguments)},getMoviesReviews:function(e){return d.apply(this,arguments)}};t.a=b},83:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t);var s=a(15),i=a(16),o=a(18),u=a(17),l=a(0),p=a.n(l),h=a(2),v=a(48),j=a(47),d=a.p+"static/media/default.2e01288c.jpg",b=a(19),m=a(1),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={src:"https://image.tmdb.org/t/p/w500",isLoading:!1,cast:[]},e.fetchCredits=function(){var t=e.props.match.params.movieId;e.setState({isLoading:!0}),j.a.getMovieCredits(t).then((function(t){e.setState({cast:Object(v.a)(t.data.cast)})})).catch((function(e){return console.log(e),[]})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchCredits()}},{key:"render",value:function(){var e=this.state,t=e.cast,a=e.src,r=e.isLoading;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("ul",{className:"cast_ul",children:t.map((function(e){var t=e.cast_id,r=e.profile_path,n=e.name,c=e.character;return Object(m.jsxs)("li",{className:"cast_li",children:[r?Object(m.jsx)("img",{src:"".concat(a).concat(r),alt:"Movie poster",className:"cast_img"}):Object(m.jsx)("img",{src:d,alt:"Was not found",className:"cast_img"}),Object(m.jsx)("h3",{className:"cast_title",children:n}),Object(m.jsx)("p",{className:"cast_text",children:c})]},t)}))})}),r&&Object(m.jsx)(b.a,{isLoading:r})]})}}]),a}(p.a.Component),O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={reviews:[]},e.fetchReviews=function(){var t=e.props.match.params.movieId;j.a.getMoviesReviews(t).then((function(t){e.setState({reviews:Object(v.a)(t.data.results)})})).catch((function(e){return console.log(e),[]}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchReviews()}},{key:"render",value:function(){var e=this.state.reviews;return Object(m.jsx)("div",{children:Object(m.jsx)("ul",{children:e.length>0?e.map((function(e){var t=e.id,a=e.author,r=e.content;return Object(m.jsxs)("li",{children:[Object(m.jsx)("h3",{className:"data",children:a}),Object(m.jsx)("p",{className:"text",children:r})]},t)})):"We don't have any reviews for this movie."})})}}]),a}(p.a.Component),g=a(20),x=a(8),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={src:"https://image.tmdb.org/t/p/w500",release_date:null},e.fetchDetails=function(){var t=e.props.match.params.movieId;j.a.getMovieDetails(t).then((function(t){e.setState(c({},t))}))},e.hendleGoBack=function(){var t,a=e.props,r=a.location,n=a.history;n.push((null===r||void 0===r||null===(t=r.state)||void 0===t?void 0:t.from)||n.push(x.a.home))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchDetails()}},{key:"render",value:function(){var e=this.state,t=e.src,a=e.original_title,r=e.poster_path,n=e.overview,c=e.release_date,s=e.popularity,i=e.vote_average,o=e.vote_count,u=e.genres,l=this.props.match;return Object(m.jsxs)("div",{className:"movie_div container",children:[Object(m.jsx)("button",{className:"movie_btn",type:"button",onClick:this.hendleGoBack,children:"\u25c4 Back"}),Object(m.jsx)("h2",{className:"movie_title",children:a}),r&&Object(m.jsx)("img",{className:"movie_img",src:"".concat(t).concat(r),alt:a}),Object(m.jsxs)("div",{className:"movie_info",children:[Object(m.jsxs)("p",{className:"text",children:["Release: ",Object(m.jsx)("span",{className:"data",children:c})]}),Object(m.jsx)("h3",{className:"movie_overview",children:"Overview "}),Object(m.jsx)("span",{className:"text",children:n}),Object(m.jsxs)("p",{className:"text",children:["Popularity:"," ",Object(m.jsx)("span",{className:"data",children:String(Math.round(s))})]}),Object(m.jsxs)("p",{className:"text",children:["Rating: ",Object(m.jsx)("span",{className:"data",children:i})]}),Object(m.jsxs)("p",{className:"text",children:["Count: ",Object(m.jsx)("span",{className:"data",children:o})]}),Object(m.jsx)("h3",{className:"text",children:"Genres"}),u?u.map((function(e){var t=e.id,a=e.name;return Object(m.jsx)("p",{className:"data",children:a},t)})):"We don't have any ganres for this movie."]}),Object(m.jsx)(g.a.NavMovieDetails,{match:l}),Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{path:"".concat(l.path,"/cast"),component:f}),Object(m.jsx)(h.a,{path:"".concat(l.path,"/reviews"),component:O})]})]})}}]),a}(p.a.Component);t.default=y}}]);
//# sourceMappingURL=6.2431e5d4.chunk.js.map